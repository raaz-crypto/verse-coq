Verse
=====

A domain specific language in coq used to write low-level
cryptographic primitives.


Configuring and installing
--------------------------

```
./configure.sh
make

```

Building with multiple coq-versions
-----------------------------------

You need `opam` for building and testing the source code for multiple
versions of coq. You need to set the the environment variable $COQ_VER
and run the script `./scripts/opam-build.sh`. Here is an example.

```
COQ_VER=8.6 ./scripts/opam-build.sh build  # compile all the coq files
COQ_VER=8.6 ./scripts/opam-build.sh html   # build html documentation

```

Generating C code from Verse file
---------------------------------

You need to have an `ocaml` installation to generate C code.

Add the following lines to your Verse program (check `src/TestCode/TestCode.v`)

```coq
Require Import Verse.Extraction.Ocaml.

Axiom main : unit.
(* testcode being the code object *)
Extract Constant main => "print_code testcode".

Recursive Extraction tryLayout testcode print_code main.

```

The c code can be generated by piping the output to `ocaml`. For example

```bash
 coqc src/Verse/TestCode/TestCode.v -R src Verse | ocaml -stdin
```

---

[![Build Staus][travis-status]][travis-raaz]

[wiki]: <https://github.com/piyush-kurur/verse-coq/wiki> "Verse coq repo"
[repo]: <https://github.com/piyush-kurur/verse-coq> "Verse on github"

[emailgroups]: <https://groups.google.com/forum/#!forum/hraaz> "Raaz on Google groups"

[travis-status]: <https://secure.travis-ci.org/piyush-kurur/verse-coq.png> "Build status"

[travis-raaz]: <https://travis-ci.org/piyush-kurur/verse-coq/>
